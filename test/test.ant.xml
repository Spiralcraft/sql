<project name="spiralcraft-sql-test" basedir="." default="smoke-tests">

  <import file="../build.xml"/>
  
  <target name="smoke-db" depends="clean,clean-db">
	        
        
    <devtask
      codebase=".." 
      exec ="--log out/spiralcraft --consoleLog SqlSmokeRunner.assy"
    />   
  	
<!-- 	
    <devtask
      codebase=".." 
      exec
       ='-!-log out/spiralcraft -!-consoleLog
         class:/spiralcraft/sql/util/QueryTool
         -!-dataSourceURI DataSource.local.xml
         "SELECT 1"
         '
    />
 
 
 -->
  	
  </target>
	
  <target name="smoke-tests"
    depends="clean,smoke-nodb,smoke-db"
    >
  </target>
	
  <target name="clean">
    <mkdir dir="out"/>
    <delete>
      <fileset dir="out" includes="**/*"/>
    </delete>   
  </target>
  	
  <target name="clean-db" depends="clean">
    <devtask
      codebase=".." 
      exec ="--log out/spiralcraft --consoleLog SqlTestSetup.assy"
     />  

    <devtask
      codebase=".."
      exec = "--log out/spiralcraft --consoleLog LoadDDL.assy"
    />
      	
    <devtask
      codebase=".."
      exec = "--log out/spiralcraft --consoleLog Loader.assy"
    />
  </target>
	
  <target name="all-tests" 
    depends="clean,smoke-tests"
    >

  </target>
  	
  <target name="smoke-nodb">
    <mkdir dir="out/sql"/>

  </target>
  	

	
	
</project>
